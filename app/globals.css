@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background-base: #0a0a0a;
  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.7);
  --glass-bg: rgba(255, 255, 255, 0.1);
  --glass-border: rgba(255, 255, 255, 0.2);
}

html {
  height: 100%;
  /* Support for mobile browsers with dynamic viewport */
  height: 100dvh;
}

body {
  background: transparent;
  color: var(--text-primary);
  margin: 0;
  padding: 0;
  overflow: hidden;
  height: 100%;
  /* Prevent overscroll bounce on mobile */
  overscroll-behavior: none;
  /* Prevent all default touch actions - we'll handle drag in the carousel */
  touch-action: none;
}

/* Gradient Animation */
@keyframes gradientShift {
  0% {
    background-position: 0% 50%;
    transform: scale(1) rotate(0deg);
  }
  50% {
    background-position: 100% 50%;
    transform: scale(1.1) rotate(3deg);
  }
  100% {
    background-position: 0% 50%;
    transform: scale(1) rotate(0deg);
  }
}

.animated-gradient {
  background: radial-gradient(
      ellipse at 30% 20%,
      var(--gradient-1) 0%,
      transparent 50%
    ),
    radial-gradient(
      ellipse at 70% 80%,
      var(--gradient-2) 0%,
      transparent 50%
    ),
    radial-gradient(
      ellipse at 50% 50%,
      var(--gradient-3) 0%,
      transparent 70%
    ),
    var(--gradient-base);
  background-size: 200% 200%;
  animation: gradientShift 15s ease-in-out infinite;
  will-change: transform;
}

/* CoverFlow 3D Styles */
.perspective-container {
  perspective: 1200px;
  perspective-origin: center center;
}

.preserve-3d {
  transform-style: preserve-3d;
}

/* Multi-layer Parallax Gradients */
@keyframes gradientShiftSlow {
  0%, 100% {
    background-position: 0% 50%;
    transform: scale(1.2) rotate(0deg);
  }
  50% {
    background-position: 100% 50%;
    transform: scale(1.3) rotate(5deg);
  }
}

@keyframes gradientShiftMedium {
  0%, 100% {
    background-position: 20% 40%;
    transform: scale(1.1) rotate(0deg);
  }
  50% {
    background-position: 80% 60%;
    transform: scale(1.2) rotate(-3deg);
  }
}

@keyframes gradientShiftFast {
  0%, 100% {
    background-position: 40% 30%;
    transform: scale(1) rotate(0deg);
  }
  50% {
    background-position: 60% 70%;
    transform: scale(1.1) rotate(2deg);
  }
}

.gradient-layer-back {
  background: radial-gradient(ellipse at 30% 20%, var(--gradient-1) 0%, transparent 60%),
              radial-gradient(ellipse at 70% 80%, var(--gradient-2) 0%, transparent 60%);
  background-size: 300% 300%;
  animation: gradientShiftSlow 25s ease-in-out infinite;
  will-change: transform;
}

.gradient-layer-middle {
  background: radial-gradient(ellipse at 50% 50%, var(--gradient-1) 0%, transparent 50%);
  background-size: 250% 250%;
  animation: gradientShiftMedium 17s ease-in-out infinite;
  animation-delay: -3s;
  will-change: transform;
}

.gradient-layer-front {
  background: radial-gradient(circle at 40% 60%, var(--gradient-1) 0%, transparent 40%),
              radial-gradient(circle at 60% 40%, var(--gradient-2) 0%, transparent 40%);
  background-size: 200% 200%;
  animation: gradientShiftFast 12s ease-in-out infinite;
  animation-delay: -7s;
  will-change: transform;
}

/* Disable animations for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  .animated-gradient,
  .gradient-layer-back,
  .gradient-layer-middle,
  .gradient-layer-front {
    animation: none !important;
    transform: none;
  }

  .preserve-3d {
    transform-style: flat;
  }

  .perspective-container {
    perspective: none;
  }

  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Custom scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* Focus states for accessibility */
*:focus-visible {
  outline: 2px solid rgba(255, 255, 255, 0.8);
  outline-offset: 2px;
}

/* Prevent text selection and image dragging for smooth interactions */
.no-select {
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

.no-drag {
  -webkit-user-drag: none;
  -khtml-user-drag: none;
  -moz-user-drag: none;
  -o-user-drag: none;
  user-drag: none;
}

/* Edge gradient masks for blur fade effect */
.edge-gradient-top {
  mask-image: linear-gradient(to bottom, black 0%, transparent 100%);
  -webkit-mask-image: linear-gradient(to bottom, black 0%, transparent 100%);
}

.edge-gradient-bottom {
  /* Mobile: steeper ramp for taller gradient */
  mask-image: linear-gradient(to top, black 0%, black 20%, transparent 60%);
  -webkit-mask-image: linear-gradient(to top, black 0%, black 20%, transparent 60%);
}

/* Desktop: gentler ramp matching top gradient */
@media (min-width: 1024px) {
  .edge-gradient-bottom {
    mask-image: linear-gradient(to top, black 0%, transparent 100%);
    -webkit-mask-image: linear-gradient(to top, black 0%, transparent 100%);
  }
}

/* Landscape: same as desktop */
@media (orientation: landscape) and (max-height: 500px) {
  .edge-gradient-bottom {
    mask-image: linear-gradient(to top, black 0%, transparent 100%);
    -webkit-mask-image: linear-gradient(to top, black 0%, transparent 100%);
  }
}
